<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Breaking News Editor</title>
  <link rel="stylesheet" href="dashboard.css" />
</head>
<body>
  <div class="app">

    <!-- Top Bar (Nutty-style layout) -->
    <header class="topbar">
      <div class="topbar-left">
        <img
          class="brand-logo"
          src="https://static-cdn.jtvnw.net/jtv_user_pictures/dd125871-0ffb-4339-9c01-273ea7114af2-profile_image-70x70.png"
          alt="Logo"
        />
      </div>
        <a
          class="topbar-link-btn"
          href="https://slickpicklenick.live/collections/streaming-tools"
          target="_blank"
          rel="noopener noreferrer"
        >
          Check out my other stream tools!
        </a>
      <div class="topbar-center">
        <div class="copy-url" id="copyUrlArea" role="button" tabindex="0" aria-label="Click to copy URL">
          <div class="copy-url-label">Click to copy URL</div>
          <div class="copy-url-field">
            <input id="obsUrl" type="text" readonly value="" />
            <div class="copy-url-blur" aria-hidden="true"></div>
          </div>
          <div class="copy-url-toast" id="copyToast" aria-hidden="true">Copied to clipboard!</div>
        </div>
      </div>

      <div class="topbar-right">
        <button class="btn top" id="defaultsBtn" type="button">Load Default Settings</button>
        <button class="btn top" id="loadBtn" type="button">Load Settings</button>
      </div>
    </header>

    <!-- Main layout -->
    <div class="main">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand-title">Breaking News Overlay Editor</div>
        </div>

        <div class="panel">
          <div class="section-title">Content</div>

          <label class="field">
            <span>Header Text</span>
            <input id="labelText" type="text" value="BREAKING NEWS" />
          </label>

          <label class="field">
            <span>Message (Preview Only)</span>
            <input id="message" type="text" value="This is a breaking news alert scrolling across the screen." />
          </label>

          <label class="field checkbox">
            <span>Flashing Header?</span>
            <input id="pulse" type="checkbox" />
          </label>
        </div>

        <div class="panel">
          <div class="section-title">Header</div>

          <div class="grid2">
            <label class="field">
              <span>Header Color</span>
              <input id="labelColor" type="color" value="#cc0000" />
            </label>

            <label class="field">
              <span>Header Opacity</span>
              <input id="labelOpacity" type="range" min="0" max="1" step="0.05" value="1" />
            </label>
          </div>
        </div>

        <div class="panel">
          <div class="section-title">Scrolling Text</div>

          <div class="grid2">
            <label class="field">
              <span>Background</span>
              <input id="tickerBgColor" type="color" value="#111111" />
            </label>

            <label class="field">
              <span>BG Opacity</span>
              <input id="tickerBgOpacity" type="range" min="0" max="1" step="0.05" value="0.90" />
            </label>
          </div>

          <div class="grid2">
            <label class="field">
              <span>Text Color</span>
              <input id="textColor" type="color" value="#ffffff" />
            </label>

            <label class="field">
              <span>Text Opacity</span>
              <input id="textOpacity" type="range" min="0" max="1" step="0.05" value="1" />
            </label>
          </div>

          <label class="field">
            <span>Scroll Duration (seconds)</span>
            <input id="scrollDuration" type="number" min="4" max="120" value="12" />
          </label>
        </div>

        <div class="actions">
          <button class="btn primary" id="applyBtn" type="button">Apply</button>
          <button class="btn" id="testBtn" type="button">Test</button>
        </div>

        <div class="hint">
          Tip: updates are live while you edit. “Test” restarts the ticker cleanly.
        </div>
      </aside>

      <main class="stage">
        <div class="stage-top">
          <div class="stage-title">Preview</div>
        </div>

        <div class="preview-wrap">
          <div class="preview-frame">
            <iframe id="preview" src="overlay/overlay.html"></iframe>
          </div>
        </div>
      </main>
    </div>

    <!-- Load Settings Modal -->
    <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-title" id="modalTitle">Load Settings</div>
        <div class="modal-sub">Paste a previously generated overlay URL to restore settings.</div>

        <label class="field">
          <span>Overlay URL</span>
          <input id="loadUrlInput" type="text" placeholder="https://YOUR_BASE_URL_HERE/overlay/overlay.html?lt=...&msg=..." />
        </label>

        <div class="modal-actions">
          <button class="btn" id="cancelLoadBtn" type="button">Cancel</button>
          <button class="btn primary" id="confirmLoadBtn" type="button">Load</button>
        </div>

        <div class="modal-hint" id="modalHint"></div>
      </div>
    </div>

  </div>

  <script src="dashboard.js"></script>
</body>
</html>
