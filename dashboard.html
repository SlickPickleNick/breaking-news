<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Breaking News Dashboard</title>
    <link rel="stylesheet" href="./dashboard.css" />
  </head>

  <body>
    <header class="topbar">
      <div class="topbar-left">
        <img
          class="brand-logo"
          src="https://static-cdn.jtvnw.net/jtv_user_pictures/dd125871-0ffb-4337-9c01-273ea7114af2-profile_image-70x70.png"
          alt="SlickPickleNick"
        />

        <a class="topbar-btn" href="https://slickpicklenick.live/collections/streaming-tools" target="_blank" rel="noreferrer">
          Streaming Tools
        </a>

        <button id="copyUrlBtn" class="copy-url" type="button" title="Click to copy URL">
          <div class="copy-url-inner">
            <div class="copy-url-blur" aria-hidden="true"></div>
            <div class="copy-url-text">
              <div class="copy-url-label">Click to copy URL</div>
              <div id="generatedUrl" class="copy-url-value"></div>
            </div>
          </div>
        </button>
      </div>

      <div class="topbar-right">
        <button id="loadDefaultsBtn" class="topbar-btn" type="button">Load default settings</button>
        <button id="loadSettingsBtn" class="topbar-btn" type="button">Load settings</button>
      </div>
    </header>

    <main class="layout">
      <section class="settings">
        <h2>Appearance</h2>

        <div class="group">
          <h3>Header</h3>

          <label class="field">
            <span>Header Text</span>
            <input id="headerText" type="text" value="BREAKING" />
          </label>

          <div class="row">
            <label class="field">
              <span>Header Background</span>
              <input id="headerBg" type="color" value="#C80000" />
            </label>
            <label class="field">
              <span>Opacity</span>
              <input id="headerBgA" type="range" min="0" max="1" step="0.01" value="0.95" />
            </label>
          </div>

          <div class="row">
            <label class="field">
              <span>Header Text Color</span>
              <input id="headerTextColor" type="color" value="#FFFFFF" />
            </label>
            <label class="field">
              <span>Opacity</span>
              <input id="headerTextA" type="range" min="0" max="1" step="0.01" value="1" />
            </label>
          </div>
        </div>

        <div class="group">
          <h3>Bar</h3>

          <div class="row">
            <label class="field">
              <span>Bar Background</span>
              <input id="barBg" type="color" value="#000000" />
            </label>
            <label class="field">
              <span>Opacity</span>
              <input id="barBgA" type="range" min="0" max="1" step="0.01" value="0.65" />
            </label>
          </div>

          <label class="field">
            <span>Font</span>
            <select id="fontFamily">
              <option value="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif">System</option>
              <option value="Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif">Inter</option>
              <option value="Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif">Montserrat</option>
              <option value="Oswald, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif">Oswald</option>
            </select>
          </label>

          <div class="row">
            <label class="field">
              <span>Ticker Text Color</span>
              <input id="tickerTextColor" type="color" value="#FFFFFF" />
            </label>
            <label class="field">
              <span>Opacity</span>
              <input id="tickerTextA" type="range" min="0" max="1" step="0.01" value="1" />
            </label>
          </div>

          <div class="note">
            The scrolling message is controlled by Streamer.bot (not saved into the URL).
          </div>
        </div>

        <div class="group">
          <h3>Preview Tools</h3>

          <label class="field">
            <span>Test message (preview only)</span>
            <input id="testMessage" type="text" placeholder="This does NOT get added to the URL" />
          </label>

          <button id="applyTestMessageBtn" class="primary-btn" type="button">
            Apply test message to preview
          </button>
        </div>
      </section>

      <section class="preview">
        <div class="preview-frame">
          <iframe id="previewFrame" title="Overlay Preview" allow="clipboard-write"></iframe>
        </div>
      </section>
    </main>

    <dialog id="loadSettingsDialog" class="dialog">
      <form method="dialog" class="dialog-card">
        <h3>Load settings</h3>
        <p>Paste a previously generated overlay URL to load its appearance settings.</p>
        <input id="settingsUrlInput" type="text" placeholder="Paste overlay URL here..." />
        <div class="dialog-actions">
          <button value="cancel" class="topbar-btn" type="submit">Cancel</button>
          <button id="confirmLoadSettings" value="ok" class="primary-btn" type="submit">Load</button>
        </div>
      </form>
    </dialog>

    <script src="./dashboard.js"></script>
  </body>
</html>
